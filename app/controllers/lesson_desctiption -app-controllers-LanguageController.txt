
1.Створюємо класс LanguageController
1 створюємо публічний метод public function changeAction(),
2 забираємо параметр lang із массива $_GET, у випадку якщо там нічого немає повертаємо null,
3 робимо перевірку (якщо в нас $lang є в наявності) - тоді ми шукаємо $lang(ключ) в нашому списку доступних мов,
4 робимо перевірку чи існує в нашому спискові мов, той параметр(мови) яку вибрав користувач,
 якщо так тоді дії під номером 5, якщо ні робимо редірект
5 далі в перемінній $url виконуємо такі дії: (функцією str_replace замінюємо наш PATH('http://new-myshop.loc', на пустий рядок(""), і на  HTTP_REFERER про нього можна дізнатись більше за посиланням (https://developer.mozilla.org/ru/docs/Web/HTTP/Headers/Referer)),
 також ми trimнули слеші, в результаті ми дістаємо такий адрес - 'product/canon-eos-5d'
6 розбили на 2 частини наш $url в перемінній $url_parts, перша - іймовірна колишня мова -
наочний приклад як ми це зробили("en/product/apple" array(2) { [0]=> string(2) "en" [1]=> string(13) "product/apple" })
7 перевіряємо чи існує в спискові наших мов, та мова яка потрапила в першу частину$url_parts[0]
якщо так тоді ми присвоюємо першій частині нову мову якщо він не є базовим,
а якщо це базова мова - тоді ми видалимо його з нашого адресу(url), за допомогою функції массиву array_shift видаляємо перше значення масиву, тобто ми видаляємо перше значення з $url_parts
якщо ця мова не є базовою тоді ми присвоюєм першій частині нову мову - тоді ми додаємо перевірку(якщо вибрана мова не є базовою мовою(по ключу code) то за допомогою функції array_unshift - додаємо один або декілька елементів у початок массиву в нашому випадку $lang ми додаємо в $url_parts;